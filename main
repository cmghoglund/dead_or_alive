# Program that calculates how many days someone has been dead or alive based on their date of death (dod) or date of birth (dob)

# TODO Separate all logic into dedicated functions
# TODO Clear and redraw screen between invalid inputs to avoid scrolling

import datetime

def calculate_days(year, month, day):
    # Get today's date
    today = datetime.date.today()
    # Create a date object from the user's input
    date = datetime.date(year, month, day)
    # Calculate the number of days between the two dates
    days = (today - date).days

    return days

def print_result(status, days):
    print(f"\nYou have {'been dead' if status == 'dead' else 'lived'} for {days} {'day' if days == 1 else 'days'}.\n")

# Main program loop -> Ask the user if they are dead or alive
while True:
    status = input("\nAre you dead or alive? ").lower()
    if status == "dead" or status == "alive":
        while True:
            try:
                # Get the user's date of death or birth
                year, month, day = map(int, input(f"\nEnter your date of {'death' if status == 'dead' else 'birth'} (YYYY-MM-DD): ").split('-'))
                # Calculate the number of days dead or alive
                days = calculate_days(year, month, day)
                print_result(status, days)
                break
            except ValueError:
                print("\nInvalid date format, please enter in the format YYYY-MM-DD.")
        break
    else:
        print("\nInvalid input, please enter 'dead' or 'alive'.")
